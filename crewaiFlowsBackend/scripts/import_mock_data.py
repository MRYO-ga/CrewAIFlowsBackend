# å¯¼å…¥å‰ç«¯mockæ•°æ®åˆ°åç«¯æ•°æ®åº“
import sys
import os
import json
from datetime import datetime, timedelta
import uuid

# æ·»åŠ é¡¹ç›®è·¯å¾„
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from sqlalchemy.orm import Session
from database.database import get_db
from database.models import Account, Content, Competitor, Task, Schedule, ChatMessage, CompetitorNote, SOP, SOPCycle, SOPWeek, SOPTask, SOPTaskItem

def clean_database(db: Session):
    """æ¸…ç©ºæ•°æ®åº“ä¸­çš„ç°æœ‰æ•°æ®"""
    print("æ­£åœ¨æ¸…ç©ºç°æœ‰æ•°æ®...")
    
    # æŒ‰ä¾èµ–å…³ç³»é¡ºåºåˆ é™¤
    db.query(Task).delete()
    db.query(Schedule).delete()
    db.query(Content).delete()
    db.query(ChatMessage).delete()
    db.query(CompetitorNote).delete()  # æ–°å¢ï¼šæ¸…ç©ºç«å“ç¬”è®°æ•°æ®
    db.query(Competitor).delete()
    db.query(Account).delete()
    # SOPç›¸å…³è¡¨
    db.query(SOPTaskItem).delete()
    db.query(SOPTask).delete()
    db.query(SOPWeek).delete()
    db.query(SOPCycle).delete()
    db.query(SOP).delete()
    
    db.commit()
    print("ç°æœ‰æ•°æ®å·²æ¸…ç©ºï¼")

def import_accounts(db: Session):
    """å¯¼å…¥è´¦å·æ•°æ®"""
    print("æ­£åœ¨å¯¼å…¥è´¦å·æ•°æ®...")
    
    accounts_data = [
        {
            'id': '1',
            'name': 'å­¦ç”Ÿå…šç¾å¦†æ—¥è®°',
            'platform': 'xiaohongshu',
            'account_id': 'xhs88661123',
            'avatar': 'https://picsum.photos/id/64/200/200',
            'status': 'active',
            'created_at': '2024-03-15',
            'last_updated': '2024-03-19',
            'followers': 23000,
            'notes': 42,
            'engagement': 5.2,
            'avg_views': 8500,
            'verified': False,
            'content_count': 4,
            'bio': 'å¤§äºŒå­¦ç”Ÿï½œæœˆç”Ÿæ´»è´¹1500çš„ç¾å¦†çœé’±ç§˜ç±ï½œæ¯å¤©åˆ†äº«å¹³ä»·å¥½ç‰©å’Œæ–°æ‰‹åŒ–å¦†æ•™ç¨‹ï½œå…³æ³¨æˆ‘ï¼Œä¸€èµ·å˜ç¾ä¸è¸©å‘ï¼',
            'tags': ['å¹³ä»·ç¾å¦†', 'æŠ¤è‚¤', 'åŒ–å¦†æ•™ç¨‹'],
            'target_audience': {
                'ageRange': '18-25å²',
                'genderRatio': 'å¥³æ€§85% ç”·æ€§15%',
                'location': 'ä¸€äºŒçº¿åŸå¸‚ä¸ºä¸»',
                'consumptionLevel': 3,
                'interests': ['å¹³ä»·ç¾å¦†', 'æŠ¤è‚¤', 'åŒ–å¦†æ•™ç¨‹', 'å­¦ç”Ÿç”Ÿæ´»'],
                'buyingPreferences': ['æ€§ä»·æ¯”', 'å£ç¢‘', 'é¢œå€¼']
            },
            'positioning': {
                'style': ['æ¸…æ–°è‡ªç„¶', 'ä¸“ä¸šæƒå¨', 'æ¸©é¦¨æ²»æ„ˆ'],
                'content': ['äº§å“æµ‹è¯„', 'æ•™ç¨‹åˆ†äº«', 'å¥½ç‰©æ¨è'],
                'advantage': 'ä¸“æ³¨å­¦ç”Ÿå…šå¹³ä»·ç¾å¦†ï¼Œæ¯æœˆæ¶ˆè´¹ä¸è¶…è¿‡300å…ƒï¼Œæ–°æ‰‹å‹å¥½çš„åŒ–å¦†æ•™ç¨‹ï¼ŒçœŸå®æµ‹è¯„ä¸è¸©å‘'
            },
            'content_strategy': {
                'frequency': 'æ¯å‘¨3-4æ¬¡',
                'bestTime': '12:00-14:00, 19:00-21:00',
                'types': ['å›¾æ–‡æµ‹è¯„', 'è§†é¢‘æ•™ç¨‹', 'å¥½ç‰©åˆ†äº«'],
                'hotTopics': ['å¹³ä»·æ›¿ä»£', 'å­¦ç”Ÿå…šå¿…å¤‡', 'æ–°æ‰‹æ•™ç¨‹', 'é¿å‘æŒ‡å—']
            },
            'monetization': {
                'monthlyIncome': 3500,
                'brandCount': 8,
                'adPrice': 800,
                'cooperationTypes': ['äº§å“æµ‹è¯„', 'å¥½ç‰©æ¨è', 'æ•™ç¨‹åˆä½œ']
            }
        },
        {
            'id': '2',
            'name': 'è½»å¥¢ç¾å¦†åˆ†äº«',
            'platform': 'xiaohongshu',
            'account_id': 'xhs66778899',
            'avatar': 'https://picsum.photos/id/65/200/200',
            'status': 'active',
            'created_at': '2024-02-20',
            'last_updated': '2024-03-18',
            'followers': 58000,
            'notes': 86,
            'engagement': 7.3,
            'avg_views': 15200,
            'verified': True,
            'content_count': 2,
            'bio': 'èŒåœºå°å§å§ï½œåˆ†äº«è½»å¥¢ç¾å¦†å¥½ç‰©ï½œå·¥ä½œæ—¥é€šå‹¤å¦†å®¹ï½œå‘¨æœ«çº¦ä¼šå¦†å®¹ï½œè®©ä½ æ¯å¤©éƒ½ç²¾è‡´',
            'tags': ['è½»å¥¢ç¾å¦†', 'èŒåœºå¦†å®¹', 'é€šå‹¤'],
            'target_audience': {
                'ageRange': '25-35å²',
                'genderRatio': 'å¥³æ€§92% ç”·æ€§8%',
                'location': 'ä¸€çº¿åŸå¸‚ä¸ºä¸»',
                'consumptionLevel': 4,
                'interests': ['è½»å¥¢ç¾å¦†', 'èŒåœºå¦†å®¹', 'æŠ¤è‚¤', 'æ—¶å°šç©¿æ­'],
                'buyingPreferences': ['å“ç‰Œ', 'åŠŸæ•ˆ', 'é¢œå€¼', 'å£ç¢‘']
            },
            'positioning': {
                'style': ['æ—¶å°šæ½®æµ', 'ä¸“ä¸šæƒå¨', 'ç²¾è‡´ä¼˜é›…'],
                'content': ['å¥½ç‰©æ¨è', 'æ•™ç¨‹åˆ†äº«', 'äº§å“æµ‹è¯„'],
                'advantage': 'ä¸“æ³¨èŒåœºå¥³æ€§ç¾å¦†éœ€æ±‚ï¼Œæä¾›é«˜æ€§ä»·æ¯”è½»å¥¢äº§å“æ¨èï¼Œå¦†å®¹å®ç”¨ä¸”æœ‰å“å‘³'
            },
            'content_strategy': {
                'frequency': 'æ¯å‘¨4-5æ¬¡',
                'bestTime': '08:00-09:00, 18:00-20:00',
                'types': ['è½»å¥¢å¥½ç‰©', 'å¦†å®¹æ•™ç¨‹', 'èŒåœºç©¿æ­'],
                'hotTopics': ['èŒåœºå¦†å®¹', 'è½»å¥¢å¥½ç‰©', 'é€šå‹¤ç©¿æ­', 'çº¦ä¼šå¦†å®¹']
            },
            'monetization': {
                'monthlyIncome': 12000,
                'brandCount': 15,
                'adPrice': 2500,
                'cooperationTypes': ['å“ç‰Œä»£è¨€', 'äº§å“æµ‹è¯„', 'ç›´æ’­å¸¦è´§', 'è”ååˆä½œ']
            }
        },
        {
            'id': '3',
            'name': 'èŒåœºç¾å¦†ç¬”è®°',
            'platform': 'douyin',
            'account_id': 'dy123456789',
            'avatar': 'https://picsum.photos/id/66/200/200',
            'status': 'inactive',
            'created_at': '2024-01-10',
            'last_updated': '2024-03-10',
            'followers': 12000,
            'notes': 28,
            'engagement': 3.8,
            'avg_views': 5600,
            'verified': False,
            'content_count': 2,
            'bio': 'èŒåœºæ–°äººï½œ5åˆ†é’Ÿå¿«æ‰‹å¦†å®¹ï½œå¹³ä»·å¥½ç‰©åˆ†äº«ï½œè®©ä½ é€šå‹¤è·¯ä¸Šä¹Ÿèƒ½å˜ç¾',
            'tags': ['å¿«æ‰‹å¦†å®¹', 'èŒåœº', 'å¹³ä»·'],
            'target_audience': {
                'ageRange': '22-28å²',
                'genderRatio': 'å¥³æ€§88% ç”·æ€§12%',
                'location': 'äºŒä¸‰çº¿åŸå¸‚ä¸ºä¸»',
                'consumptionLevel': 2,
                'interests': ['å¿«æ‰‹å¦†å®¹', 'å¹³ä»·ç¾å¦†', 'æŠ¤è‚¤', 'èŒåœºç”Ÿæ´»'],
                'buyingPreferences': ['æ€§ä»·æ¯”', 'å®ç”¨æ€§', 'å£ç¢‘']
            },
            'positioning': {
                'style': ['ç®€çº¦å®ç”¨', 'æ¸…æ–°è‡ªç„¶', 'ä¸“ä¸šæƒå¨'],
                'content': ['æ•™ç¨‹åˆ†äº«', 'äº§å“æµ‹è¯„', 'å¥½ç‰©æ¨è'],
                'advantage': 'ä¸“æ³¨å¿«é€Ÿå¦†å®¹ï¼Œé€‚åˆå¿™ç¢Œçš„èŒåœºæ–°äººï¼Œ5åˆ†é’Ÿæå®šç²¾è‡´å¦†å®¹'
            },
            'content_strategy': {
                'frequency': 'æ¯å‘¨2-3æ¬¡',
                'bestTime': '07:00-08:00, 19:00-21:00',
                'types': ['å¿«æ‰‹æ•™ç¨‹', 'å¹³ä»·å¥½ç‰©', 'èŒåœºæŠ€å·§'],
                'hotTopics': ['5åˆ†é’Ÿå¦†å®¹', 'èŒåœºæ–°äºº', 'å¹³ä»·å¥½ç‰©', 'é€šå‹¤å¿…å¤‡']
            },
            'monetization': {
                'monthlyIncome': 1800,
                'brandCount': 5,
                'adPrice': 500,
                'cooperationTypes': ['äº§å“æµ‹è¯„', 'å¥½ç‰©æ¨è']
            }
        }
    ]
    
    for account_data in accounts_data:
        account = Account(**account_data)
        db.add(account)
    
    db.commit()
    print(f"å·²å¯¼å…¥ {len(accounts_data)} ä¸ªè´¦å·")

def import_contents(db: Session):
    """å¯¼å…¥å†…å®¹æ•°æ®"""
    print("æ­£åœ¨å¯¼å…¥å†…å®¹æ•°æ®...")
    
    contents_data = [
        {
            'id': '1',
            'title': 'æ²¹çš®å¿…å¤‡ï¼å¹³ä»·å¥½ç”¨çš„æ§æ²¹æ•£ç²‰æµ‹è¯„',
            'cover': 'https://picsum.photos/id/64/400/300',
            'description': 'æµ‹è¯„äº†5æ¬¾ç™¾å…ƒä»¥å†…çš„æ§æ²¹æ•£ç²‰ï¼Œä»å®šå¦†æ•ˆæœã€æŒä¹…åº¦ã€æ€§ä»·æ¯”ç­‰å¤šä¸ªç»´åº¦è¿›è¡Œå¯¹æ¯”ï¼Œå¸®åŠ©æ²¹çš®å§å¦¹æ‰¾åˆ°æœ€é€‚åˆçš„æ§æ²¹æ•£ç²‰ã€‚',
            'content': 'å¤§å®¶å¥½ï¼ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥5æ¬¾å¹³ä»·æ§æ²¹æ•£ç²‰çš„è¯¦ç»†æµ‹è¯„...',
            'category': 'review',
            'status': 'published',
            'published_at': '2024-03-15 12:00',
            'created_at': '2024-03-14 10:30',
            'platform': 'xiaohongshu',
            'account_id': '1',
            'stats': {
                'views': 15600,
                'likes': 2300,
                'comments': 158,
                'shares': 89,
                'favorites': 426,
                'engagement_rate': 16.8,
                'analysis': {
                    'performance_analysis': {
                        'peak_time': '2024-03-15 14:00',
                        'engagement_timeline': [
                            {'hour': 12, 'views': 2340, 'likes': 345},
                            {'hour': 13, 'views': 4560, 'likes': 678},
                            {'hour': 14, 'views': 6890, 'likes': 1023},
                            {'hour': 19, 'views': 3210, 'likes': 254}
                        ]
                    },
                    'audience_analysis': {
                        'age_distribution': {'18-22': 35, '23-27': 40, '28-32': 20, '33+': 5},
                        'gender_distribution': {'female': 92, 'male': 8},
                        'location_top5': ['ä¸Šæµ·', 'åŒ—äº¬', 'å¹¿å·', 'æ·±åœ³', 'æ­å·'],
                        'device_type': {'mobile': 85, 'desktop': 15}
                    },
                    'content_analysis': {
                        'hot_keywords': ['æ§æ²¹', 'å¹³ä»·', 'æ•£ç²‰', 'å­¦ç”Ÿå…š', 'æ€§ä»·æ¯”'],
                        'comment_sentiment': {'positive': 78, 'neutral': 18, 'negative': 4},
                        'top_comments': [
                            'è¿™ä¸ªæµ‹è¯„å¤ªå®ç”¨äº†ï¼é©¬ä¸Šå»ä¹°',
                            'å­¦ç”Ÿå…šçš„ç¦éŸ³ï¼Œç»ˆäºæ‰¾åˆ°ä¾¿å®œå¥½ç”¨çš„äº†',
                            'æ¥¼ä¸»æµ‹è¯„å¾ˆå®¢è§‚ï¼Œå…³æ³¨äº†'
                        ],
                        'improvement_suggestions': [
                            'å¯ä»¥å¢åŠ æ›´å¤šè‚¤è´¨çš„æµ‹è¯•å¯¹æ¯”',
                            'å»ºè®®æ·»åŠ æŒå¦†æ—¶é•¿æµ‹è¯•',
                            'å¯ä»¥åšä»·æ ¼æ¢¯åº¦çš„äº§å“æ¨è'
                        ]
                    }
                }
            },
            'tags': ['æ§æ²¹', 'æ•£ç²‰', 'æµ‹è¯„', 'å¹³ä»·', 'æ²¹çš®']
        },
        {
            'id': '2',
            'title': 'æ–°æ‰‹åŒ–å¦†å¿…çœ‹ï¼æ‰‹æŠŠæ‰‹æ•™ä½ æ‰“é€ æ¸…é€å¦†å®¹',
            'cover': 'https://picsum.photos/id/65/400/300',
            'description': 'ä»åº•å¦†ã€çœ¼å¦†åˆ°å”‡å¦†ï¼Œè¯¦ç»†è®²è§£æ¯ä¸ªæ­¥éª¤ï¼Œæ–°æ‰‹ä¹Ÿèƒ½è½»æ¾ä¸Šæ‰‹ï¼Œæ‰“é€ è‡ªç„¶æ¸…é€çš„æ—¥å¸¸å¦†å®¹ã€‚',
            'content': 'æ–°æ‰‹å§å¦¹ä»¬ï¼Œä»Šå¤©æ•™å¤§å®¶å¦‚ä½•æ‰“é€ æ¸…é€è‡ªç„¶çš„æ—¥å¸¸å¦†å®¹ï¼',
            'category': 'tutorial',
            'status': 'reviewing',
            'created_at': '2024-03-16 14:20',
            'platform': 'xiaohongshu',
            'account_id': '1',
            'stats': {
                'views': 0,
                'likes': 0,
                'comments': 0,
                'shares': 0,
                'favorites': 0
            },
            'tags': ['æ–°æ‰‹', 'åŒ–å¦†æ•™ç¨‹', 'æ¸…é€', 'æ—¥å¸¸å¦†']
        },
        {
            'id': '3',
            'title': 'å­¦ç”Ÿå…šå¿…çœ‹ï¼10æ¬¾å¹³ä»·å½©å¦†äº§å“æ¨è',
            'cover': 'https://picsum.photos/id/68/400/300',
            'description': 'å­¦ç”Ÿå…šä¸åˆ°100å…ƒå°±èƒ½æ‰“é€ å®Œæ•´å¦†å®¹ï¼Œè¿™äº›å¹³ä»·å½©å¦†äº§å“ä½ å€¼å¾—æ‹¥æœ‰ï¼Œæ€§ä»·æ¯”è¶…é«˜ï¼',
            'content': 'å­¦ç”Ÿå…šå§å¦¹ä»¬ï¼ä»Šå¤©åˆ†äº«10æ¬¾è¶…å¹³ä»·çš„å½©å¦†å¥½ç‰©ï¼Œæ€»ä»·ä¸åˆ°100å…ƒå°±èƒ½æ‹¥æœ‰å®Œæ•´å¦†å®¹ï¼',
            'category': 'recommendation',
            'status': 'draft',
            'created_at': '2024-03-17 09:15',
            'platform': 'xiaohongshu',
            'account_id': '1',
            'stats': {
                'views': 0,
                'likes': 0,
                'comments': 0,
                'shares': 0,
                'favorites': 0
            },
            'tags': ['å­¦ç”Ÿå…š', 'å¹³ä»·', 'å½©å¦†', 'æ¨è', 'å¥½ç‰©']
        },
        {
            'id': '4',
            'title': 'æŠ¤è‚¤å°ç™½å¿…çœ‹ï¼å»ºç«‹æ­£ç¡®æŠ¤è‚¤æ­¥éª¤',
            'cover': 'https://picsum.photos/id/70/400/300',
            'description': 'æŠ¤è‚¤æ–°æ‰‹å®¹æ˜“è¸©å‘ï¼Œè¿™ç¯‡æ–‡ç« æ•™ä½ å»ºç«‹æ­£ç¡®çš„æŠ¤è‚¤æ­¥éª¤ï¼Œé¿å…å¸¸è§è¯¯åŒºã€‚',
            'content': 'æŠ¤è‚¤å°ç™½ä»¬ï¼Œä»Šå¤©æ¥èŠèŠæ­£ç¡®çš„æŠ¤è‚¤æ­¥éª¤ï¼',
            'category': 'knowledge',
            'status': 'scheduled',
            'scheduled_at': '2024-03-20 19:00',
            'created_at': '2024-03-18 11:45',
            'platform': 'xiaohongshu',
            'account_id': '1',
            'stats': {
                'views': 0,
                'likes': 0,
                'comments': 0,
                'shares': 0,
                'favorites': 0
            },
            'tags': ['æŠ¤è‚¤', 'æ–°æ‰‹', 'æ­¥éª¤', 'ç§‘æ™®']
        },
        {
            'id': '5',
            'title': 'èŒåœºé€šå‹¤å¦†å®¹åˆ†äº«ï½œç®€çº¦å¤§æ–¹åˆç²¾è‡´',
            'cover': 'https://picsum.photos/id/69/400/300',
            'description': 'é€‚åˆèŒåœºçš„æ—¥å¸¸é€šå‹¤å¦†å®¹ï¼Œç®€å•å¤§æ–¹åˆä¸å¤±ç²¾è‡´ï¼Œè®©ä½ åœ¨èŒåœºä¸­æ›´åŠ è‡ªä¿¡ã€‚',
            'content': 'èŒåœºå°å§å§ä»¬ï¼Œä»Šå¤©åˆ†äº«ä¸€ä¸ªç®€çº¦å¤§æ–¹çš„é€šå‹¤å¦†å®¹ï¼',
            'category': 'tutorial',
            'status': 'published',
            'published_at': '2024-03-12 08:00',
            'created_at': '2024-03-11 16:30',
            'platform': 'xiaohongshu',
            'account_id': '2',
            'stats': {
                'views': 12800,
                'likes': 1850,
                'comments': 123,
                'shares': 67,
                'favorites': 320,
                'engagement_rate': 15.2,
                'analysis': {
                    'performance_analysis': {
                        'peak_time': '2024-03-12 08:30',
                        'engagement_timeline': [
                            {'hour': 8, 'views': 3420, 'likes': 512},
                            {'hour': 9, 'views': 2890, 'likes': 433},
                            {'hour': 18, 'views': 4560, 'likes': 684},
                            {'hour': 19, 'views': 1930, 'likes': 221}
                        ]
                    },
                    'audience_analysis': {
                        'age_distribution': {'22-26': 45, '27-31': 35, '32-36': 15, '37+': 5},
                        'gender_distribution': {'female': 94, 'male': 6},
                        'location_top5': ['åŒ—äº¬', 'ä¸Šæµ·', 'æ·±åœ³', 'æ­å·', 'æˆéƒ½'],
                        'occupation': {'ç™½é¢†': 65, 'å­¦ç”Ÿ': 20, 'å…¶ä»–': 15}
                    },
                    'content_analysis': {
                        'hot_keywords': ['é€šå‹¤å¦†', 'èŒåœº', 'ç®€çº¦', 'ç²¾è‡´', 'è½»å¥¢'],
                        'comment_sentiment': {'positive': 85, 'neutral': 12, 'negative': 3},
                        'top_comments': [
                            'é€‚åˆä¸Šç­æ—çš„å¦†å®¹ï¼Œå¾ˆå®ç”¨',
                            'è½»å¥¢ä½†ä¸å¤¸å¼ ï¼Œå¾ˆæœ‰å“å‘³',
                            'æ­¥éª¤æ¸…æ™°ï¼Œå­¦ä¼šäº†ï¼'
                        ],
                        'improvement_suggestions': [
                            'å¯ä»¥é’ˆå¯¹ä¸åŒè‚¤è‰²åšè°ƒæ•´',
                            'å»ºè®®å¢åŠ äº§å“ä»·æ ¼ä¿¡æ¯',
                            'å¯ä»¥åˆ¶ä½œè§†é¢‘ç‰ˆæ•™ç¨‹'
                        ]
                    }
                }
            },
            'tags': ['èŒåœº', 'é€šå‹¤', 'å¦†å®¹', 'è½»å¥¢']
        },
        {
            'id': '6',
            'title': 'è½»å¥¢ç¾å¦†å¥½ç‰©åˆ†äº«ï½œå€¼å¾—æŠ•èµ„çš„å½©å¦†å•å“',
            'cover': 'https://picsum.photos/id/71/400/300',
            'description': 'åˆ†äº«å‡ æ¬¾å€¼å¾—æŠ•èµ„çš„è½»å¥¢å½©å¦†å•å“ï¼Œå“è´¨å’Œæ•ˆæœéƒ½å¾ˆå‡ºè‰²ï¼Œé€‚åˆæœ‰ä¸€å®šé¢„ç®—çš„å§å¦¹ã€‚',
            'content': 'ä»Šå¤©ç»™å¤§å®¶åˆ†äº«å‡ æ¬¾å€¼å¾—æŠ•èµ„çš„è½»å¥¢å½©å¦†å•å“ï¼',
            'category': 'recommendation',
            'status': 'draft',
            'created_at': '2024-03-18 14:20',
            'platform': 'xiaohongshu',
            'account_id': '2',
            'stats': {
                'views': 0,
                'likes': 0,
                'comments': 0,
                'shares': 0,
                'favorites': 0
            },
            'tags': ['è½»å¥¢', 'å¥½ç‰©', 'æ¨è', 'æŠ•èµ„']
        },
        {
            'id': '7',
            'title': '5åˆ†é’Ÿå¿«æ‰‹å¦†å®¹ï½œå¿™ç¢Œæ—©æ™¨çš„æ•‘æ˜Ÿ',
            'cover': 'https://picsum.photos/id/72/400/300',
            'description': 'ä¸“ä¸ºå¿™ç¢Œçš„èŒåœºæ–°äººè®¾è®¡çš„5åˆ†é’Ÿå¿«æ‰‹å¦†å®¹ï¼Œç®€å•å¿«é€Ÿåˆæœ‰ç²¾ç¥ã€‚',
            'content': 'èŒåœºæ–°äººä»¬ï¼Œæ—©ä¸Šæ—¶é—´ç´§å¼ ï¼Ÿè¿™ä¸ª5åˆ†é’Ÿå¿«æ‰‹å¦†å®¹æ‹¯æ•‘ä½ ï¼',
            'category': 'tutorial',
            'status': 'published',
            'published_at': '2024-03-10 07:30',
            'created_at': '2024-03-09 20:15',
            'platform': 'douyin',
            'account_id': '3',
            'stats': {
                'views': 8900,
                'likes': 1200,
                'comments': 89,
                'shares': 45,
                'favorites': 156
            },
            'tags': ['å¿«æ‰‹å¦†å®¹', 'èŒåœº', '5åˆ†é’Ÿ', 'ç®€å•']
        },
        {
            'id': '8',
            'title': 'å¹³ä»·å¥½ç‰©æµ‹è¯„ï½œèŒåœºæ–°äººå¿…å¤‡æ¸…å•',
            'cover': 'https://picsum.photos/id/73/400/300',
            'description': 'ä¸ºèŒåœºæ–°äººæ¨èçš„å¹³ä»·å¥½ç‰©æ¸…å•ï¼Œé¢„ç®—æœ‰é™ä¹Ÿèƒ½ç¾ç¾å“’ï¼',
            'content': 'èŒåœºæ–°äººé¢„ç®—æœ‰é™ï¼Ÿè¿™äº›å¹³ä»·å¥½ç‰©å¸®ä½ æå®šèŒåœºå¦†å®¹ï¼',
            'category': 'review',
            'status': 'reviewing',
            'created_at': '2024-03-19 13:40',
            'platform': 'douyin',
            'account_id': '3',
            'stats': {
                'views': 0,
                'likes': 0,
                'comments': 0,
                'shares': 0,
                'favorites': 0
            },
            'tags': ['å¹³ä»·', 'å¥½ç‰©', 'æµ‹è¯„', 'èŒåœºæ–°äºº']
        }
    ]
    
    for content_data in contents_data:
        content = Content(
            id=content_data['id'],
            title=content_data['title'],
            cover=content_data['cover'],
            description=content_data['description'],
            content=content_data['content'],
            category=content_data['category'],
            status=content_data['status'],
            published_at=content_data.get('published_at'),
            created_at=content_data['created_at'],
            scheduled_at=content_data.get('scheduled_at'),
            platform=content_data['platform'],
            account_id=content_data['account_id'],
            stats=content_data['stats'],
            tags=content_data['tags']
        )
        db.add(content)
    
    db.commit()
    print(f"å·²å¯¼å…¥ {len(contents_data)} ä¸ªå†…å®¹")

def import_competitors(db: Session):
    """å¯¼å…¥ç«å“æ•°æ®"""
    print("æ­£åœ¨å¯¼å…¥ç«å“æ•°æ®...")
    
    competitors_data = [
        {
            'id': '1',
            'name': 'æ°´åŒ—å±±å—',
            'account_id': 'xhs88661123',
            'platform': 'xiaohongshu',
            'tier': 'top',
            'category': 'beauty_review',
            'followers': '128.6w',
            'explosion_rate': 12.7,
            'last_update': '2024-03-19',
            'analysis_count': 42,
            'avatar': 'https://picsum.photos/id/64/200/200',
            'profile_url': 'https://www.xiaohongshu.com/user/profile/æ°´åŒ—å±±å—',
            'tags': ['INFJ', 'æ–‡å­—ç–—æ„ˆ', 'ç”Ÿæ´»ç¾å­¦'],
            'analysis_document': '''# è´¦å·æ·±åº¦åˆ†æï¼šæ°´åŒ—å±±å—ï¼ˆå°çº¢ä¹¦ï¼‰

## ä¸€ã€è´¦å·åŸºç¡€ç”»åƒï¼šæ–‡è‰ºé’å¹´çš„æ²»æ„ˆç³»è´¦å·

### è§†è§‰å‘ˆç°ï¼š
å¤´åƒé‡‡ç”¨é™ç‰©å…ƒç´ ï¼ˆå¦‚ä¹¦ç±ã€å’–å•¡æ¯ç­‰ï¼‰ï¼Œé¿å…çœŸäººå‡ºé•œï¼Œè¥é€ "ç¥ç§˜æ„Ÿ"ä¸"è·ç¦»æ„Ÿ"ï¼Œç¬¦åˆå…¶å†…æ•›çš„äººæ ¼æ ‡ç­¾ã€‚
é‡‡ç”¨æ¨¡ç³ŠåŒ–é£æ™¯ / æŠ½è±¡å…ƒç´ ï¼ˆéäººç‰©è‚–åƒï¼‰ï¼Œå¼ºåŒ– "æ–‡å­—ä¼˜å…ˆ" çš„å†…å®¹å¯¼å‘ï¼Œé¿å…ç”¨æˆ·å› å¤–è²Œæ ‡ç­¾åˆ†æ•£æ³¨æ„åŠ›ï¼Œå¥‘åˆ "é‡å†…åœ¨è¡¨è¾¾" çš„äººè®¾ã€‚

### æ½œåœ¨ç®€ä»‹æ¨æ–­ï¼š
è™½æœªç›´æ¥å±•ç¤ºç®€ä»‹ï¼Œä½†é€šè¿‡å†…å®¹å¯å½’çº³æ ¸å¿ƒæ ‡ç­¾ï¼š"INFJ | æ–‡å­—ç–—æ„ˆè€… | 25 + å¥³æ€§æˆé•¿è®°å½• | ç”Ÿæ´»ç¾å­¦æ¢ç´¢"ï¼Œå¼ºè°ƒé«˜æ•æ„Ÿäººæ ¼çš„è‡ªæˆ‘å‰–æä¸ç”Ÿæ´»å“²æ€ã€‚

### ä¸»é¡µè§†è§‰ï¼š
ç¬”è®°ä»¥ "å›¾æ–‡æ··æ’ + æ–‡è‰ºå­—ä½“" ä¸ºä¸»ï¼Œå°é¢ç»Ÿä¸€é‡‡ç”¨ä½é¥±å’Œè‰²è°ƒï¼ˆè«å…°è¿ªè‰²ç³»ï¼‰ï¼Œå¦‚æµ…ç°ã€ç±³ç™½ã€è—è“ï¼Œè¥é€  "å®‰é™ã€æ²»æ„ˆ" çš„æµè§ˆæ°›å›´ï¼Œå¼ºåŒ–å“ç‰Œè§†è§‰è®°å¿†ç‚¹ã€‚

## äºŒã€è´¦å·å®šä½ï¼šä¸‰ç»´åº¦æ„å»ºç«‹ä½“äººè®¾

### äººæ ¼æ ‡ç­¾ï¼šINFJ çš„æ·±åº¦è§£æ„

#### å†…å®¹é”šç‚¹ï¼š
80% ä»¥ä¸Šç¬”è®°æºå¸¦ "#infj" æ ‡ç­¾ï¼Œé€šè¿‡ "é«˜æ•æ„Ÿç‰¹è´¨"ï¼ˆå¦‚å¤±çœ ã€å†…çœï¼‰ã€"ç†æƒ³ä¸»ä¹‰å›°å¢ƒ"ï¼ˆå¦‚ä¸ç°å®çš„å†²çªï¼‰ã€"ç²¾ç¥ä¸–ç•Œä¸°å¯Œæ€§"ï¼ˆå¦‚å¯¹æ–‡å­— / è‰ºæœ¯çš„çƒ­çˆ±ï¼‰æ„å»ºäººæ ¼ç”»åƒã€‚

**æ¡ˆä¾‹ï¼š** ç¬”è®°ã€Šä¸€ä¸ª infjï¼Œå†™äºå¥¹çš„ 25 å²æœ«å°¾ã€‹ä¸­ï¼Œç”¨ "çƒ›å…‰æ™ƒåŠ¨çš„ç”Ÿæ—¥è®¸æ„¿" å¯¹æ¯” "ä¸€å‘¨åçš„äººç”Ÿå˜æ•…"ï¼Œå±•ç° INFJ å‹äººæ ¼ "æ„Ÿæ€§ä¸ç†æ€§äº¤ç»‡" çš„çŸ›ç›¾æ„Ÿã€‚

#### å—ä¼—è¿æ¥ï¼š
å¸å¼•åŒç±»äººæ ¼ç”¨æˆ·ï¼ˆMBTI ç¤¾ç¾¤ï¼‰å¯»æ±‚è®¤åŒæ„Ÿï¼ŒåŒæ—¶è®©é INFJ ç”¨æˆ·äº§ç”Ÿ "æ¢ç§˜é«˜æ•æ„Ÿå†…å¿ƒ" çš„å¥½å¥‡å¿ƒã€‚

### å¹´é¾„ä¸èº«ä»½ï¼š25-26 å²å¥³æ€§çš„ "é»„é‡‘æ—¶ä»£" å™äº‹

#### é˜¶æ®µç—›ç‚¹ï¼š
- **èŒåœºï¼š** "å·¥ä½œèµ·æ­¥ä½†æ— å›ºå®šèµ„äº§"ï¼ˆç¬”è®°ã€Š26 å²ï¼Œåœ¨æˆ‘ä¸€ç”Ÿçš„ "é»„é‡‘æ—¶ä»£"ã€‹ï¼‰ï¼ŒæŠ˜å°„ "èŒåœºæ–°äººå‘è½»ä¸­äº§è¿‡æ¸¡" çš„è¿·èŒ«ï¼›
- **æƒ…æ„Ÿï¼š** "ç»“æŸä¸‰å¹´æ‹çˆ±æ¢å¤å•èº«"ï¼ˆå¹´ç»ˆæ€»ç»“ç¬”è®°ï¼‰ï¼Œæ¢è®¨ "å¹´é¾„ç„¦è™‘ vs è‡ªæˆ‘ä»·å€¼ä¼˜å…ˆ" çš„æŠ‰æ‹©ï¼›
- **ç¤¾ä¼šè§’è‰²ï¼š** "å°é•‡åšé¢˜å®¶è€ƒä¸Šåæ ¡åçš„è½å·®"ï¼ˆã€Šè€ƒä¸Šåæ ¡æ˜¯å°é•‡åšé¢˜å®¶çš„æ¢¦é†’æ—¶åˆ»ã€‹ï¼‰ï¼Œç›´å‡» "ä¼˜ç»©ä¸»ä¹‰å´©å¡Œ" çš„ç¾¤ä½“å¿ƒç†ã€‚

#### èº«ä»½è®¤åŒï¼š
å¼ºè°ƒ "ç¨³å®šä¸»ä¸š + å†™ä½œå‰¯ä¸š" çš„å¹³è¡¡æ¨¡å¼ï¼Œå¡‘é€  "ç†æ€§åŠ¡å®åˆä¸å¤±ç†æƒ³ä¸»ä¹‰" çš„éƒ½å¸‚å¥³æ€§å½¢è±¡ï¼Œæˆä¸º 25 + å¥³æ€§ "æƒ³æˆä¸ºçš„æ ·å­"ã€‚

### ä»·å€¼è§‚è¾“å‡ºï¼šå¯¹æŠ—ç„¦è™‘çš„ä¸‰å¤§å†…æ ¸

#### å‹‡æ°”å“²å­¦ï¼š
"é‡æ–°å‡ºå‘" è´¯ç©¿å¤šç¯‡ç¬”è®°ï¼ˆå¦‚å¹´ç»ˆæ€»ç»“ã€åˆ†æ‰‹æ„Ÿæ‚Ÿï¼‰ï¼Œä¼ é€’ "æ”¹å˜éœ€è¦å‹‡æ°”ï¼Œä½†æ›´éœ€è¦è‡ªæˆ‘æ¥çº³" çš„ç†å¿µï¼›

#### æ´»åœ¨å½“ä¸‹ï¼š
åå¯¹è¿‡åº¦è§„åˆ’ï¼Œå¦‚ã€Šé’æ˜¥æ˜¯ä¸€é˜µè½»ç›ˆçš„æ™•çœ©ã€‹ä¸­ "æµªè´¹æ—¶é—´ä¹Ÿæ˜¯ä¸€ç§å¹¸ç¦"ï¼Œå¥‘åˆ "åå†…å·" çš„å¹´è½»ç¾¤ä½“å¿ƒæ€ï¼›

#### å¹³å‡¡ç¾å­¦ï¼š
æ‹†è§£ "åæ ¡å…‰ç¯""å¹´é¾„ç„¦è™‘"ï¼Œå¦‚ã€Šè€ƒä¸Šåæ ¡æ˜¯å°é•‡åšé¢˜å®¶çš„æ¢¦é†’æ—¶åˆ»ã€‹ä¸­ "æ‰¿è®¤è‡ªå·±æ˜¯æ™®é€šäºº"ï¼Œå‘¼åæ¥çº³å¹³å‡¡çš„åŠ›é‡ã€‚

## ä¸‰ã€å†…å®¹åˆ†æç»“æœ

### çˆ†æ¬¾å†…å®¹ç‰¹å¾
1. **æƒ…æ„Ÿå…±é¸£ç±»**ï¼šã€Šä¸€ä¸ªäººä½ï¼Œè¶Šä½è¶Šå¿«ä¹ã€‹- 1.2wèµ
2. **äººç”Ÿæ„Ÿæ‚Ÿç±»**ï¼šã€Š26å²ï¼Œåœ¨æˆ‘ä¸€ç”Ÿçš„é»„é‡‘æ—¶ä»£ã€‹- 0.8wèµ
3. **MBTIç›¸å…³**ï¼šã€Šinfjçš„å†…å¿ƒç‹¬ç™½ã€‹- 1.5wèµ

### ç”¨æˆ·ç”»åƒåˆ†æ
- **å¹´é¾„åˆ†å¸ƒ**ï¼š22-30å²ï¼ˆ68%ï¼‰
- **æ€§åˆ«æ¯”ä¾‹**ï¼šå¥³æ€§85%ï¼Œç”·æ€§15%
- **åœ°åŸŸåˆ†å¸ƒ**ï¼šä¸€äºŒçº¿åŸå¸‚å 72%
- **å…´è¶£æ ‡ç­¾**ï¼šæ–‡è‰ºã€å¿ƒç†å­¦ã€æˆé•¿ã€ç‹¬å±…

### å˜ç°èƒ½åŠ›è¯„ä¼°
- **å¸¦è´§èƒ½åŠ›**ï¼šä¸­ç­‰ï¼ˆä¸»è¦æ¨å¹¿ä¹¦ç±ã€æ–‡å…·ï¼‰
- **å¹¿å‘Šåˆä½œ**ï¼šè¾ƒå°‘ï¼Œä¿æŒå†…å®¹çº¯ç²¹æ€§
- **çŸ¥è¯†ä»˜è´¹**ï¼šæœ‰æ½œåŠ›ï¼Œå¯å¼€è®¾å†™ä½œè¯¾ç¨‹

### å†…å®¹ç­–ç•¥å»ºè®®
1. ä¿æŒçœŸå®æ€§ï¼Œé¿å…è¿‡åº¦åŒ…è£…
2. å¢åŠ äº’åŠ¨æ€§å†…å®¹ï¼Œå¦‚Q&A
3. å¯è€ƒè™‘å¼€è®¾ä»˜è´¹ä¸“æ '''
        },
        {
            'id': '2',
            'name': 'ç¾å¦†æƒ…æŠ¥å±€',
            'account_id': 'xhs77552211',
            'platform': 'xiaohongshu',
            'tier': 'top',
            'category': 'makeup_tutorial',
            'followers': '328.5w',
            'explosion_rate': 8.5,
            'last_update': '2024-03-18',
            'analysis_count': 35,
            'avatar': 'https://picsum.photos/id/65/200/200',
            'profile_url': 'https://www.xiaohongshu.com/user/profile/ç¾å¦†æƒ…æŠ¥å±€',
            'tags': ['æµ‹è¯„', 'ç§è‰', 'ç¾å¦†æ¦œTOP5'],
            'analysis_document': '''# è´¦å·æ·±åº¦åˆ†æï¼šç¾å¦†æƒ…æŠ¥å±€ï¼ˆå°çº¢ä¹¦ï¼‰

## ä¸€ã€è´¦å·åŸºç¡€ä¿¡æ¯

### è´¦å·æ¦‚å†µ
- **è´¦å·åç§°**ï¼šç¾å¦†æƒ…æŠ¥å±€
- **ç²‰ä¸æ•°é‡**ï¼š328.5w
- **å†…å®¹ç±»å‹**ï¼šç¾å¦†æµ‹è¯„ã€äº§å“ç§è‰
- **è´¦å·ç­‰çº§**ï¼šå¤´éƒ¨KOL
- **ä¸»è¦å¹³å°**ï¼šå°çº¢ä¹¦

### å®šä½åˆ†æ
ç¾å¦†æƒ…æŠ¥å±€å®šä½ä¸º"ä¸“ä¸šç¾å¦†æµ‹è¯„æœºæ„"ï¼Œä»¥å®¢è§‚ã€ä¸“ä¸šçš„æµ‹è¯„å†…å®¹ä¸ºæ ¸å¿ƒï¼Œä¸ºç”¨æˆ·æä¾›å¯ä¿¡èµ–çš„ç¾å¦†äº§å“è´­ä¹°æŒ‡å—ã€‚

## äºŒã€å†…å®¹ç­–ç•¥åˆ†æ

### å†…å®¹ç»“æ„
1. **æ–°å“çº¢é»‘æ¦œç³»åˆ—**ï¼ˆ40%ï¼‰ï¼šæ¯å‘¨å›ºå®šæ›´æ–°ï¼Œå¯¹æ–°ä¸Šå¸‚äº§å“è¿›è¡Œå¿«é€Ÿæµ‹è¯„
2. **æ·±åº¦æµ‹è¯„**ï¼ˆ30%ï¼‰ï¼šå•å“æˆ–å“ç±»çš„è¯¦ç»†å¯¹æ¯”åˆ†æ
3. **æˆåˆ†ç§‘æ™®**ï¼ˆ20%ï¼‰ï¼šæŠ¤è‚¤å“æˆåˆ†è§£æï¼Œæå‡ç”¨æˆ·è®¤çŸ¥
4. **å¥½ç‰©åˆé›†**ï¼ˆ10%ï¼‰ï¼šå­£èŠ‚æ€§æˆ–ä¸»é¢˜æ€§äº§å“æ¨è

### å†…å®¹ç‰¹ç‚¹
- **ä¸“ä¸šæ€§å¼º**ï¼šå…·å¤‡åŒ–å¦†å“ç›¸å…³ä¸“ä¸šèƒŒæ™¯ï¼Œæµ‹è¯„æœ‰ç†æœ‰æ®
- **æ›´æ–°è§„å¾‹**ï¼šæ¯å‘¨ä¸‰ã€å…­å›ºå®šæ›´æ–°ï¼ŒåŸ¹å…»ç”¨æˆ·æœŸå¾…æ„Ÿ
- **è§†è§‰ç»Ÿä¸€**ï¼šå°é¢é‡‡ç”¨"å¯¹æ¯”å›¾+çº¢è‰²å¤§å­—æŠ¥"é£æ ¼ï¼Œè¯†åˆ«åº¦é«˜
- **äº’åŠ¨æ€§å¥½**ï¼šè¯„è®ºåŒºç§¯æå›å¤ï¼Œå½¢æˆè‰¯å¥½äº’åŠ¨æ°›å›´

## ä¸‰ã€å†…å®¹åˆ†æç»“æœ

### çˆ†æ¬¾å†…å®¹ç‰¹å¾
1. **æµ‹è¯„å¯¹æ¯”ç±»**ï¼šã€Šå¹³ä»·vså¤§ç‰Œæ•£ç²‰æ¨ªè¯„ã€‹- 2.3wèµ
2. **æ–°å“é¦–æµ‹**ï¼šã€Šé¦™å¥ˆå„¿æ–°æ¬¾å£çº¢è¯•è‰²ã€‹- 1.8wèµ
3. **è¸©é›·é¢„è­¦**ï¼šã€Šè¿™äº›ç½‘çº¢äº§å“åˆ«ä¹°ã€‹- 2.1wèµ

### ç”¨æˆ·ç”»åƒåˆ†æ
- **å¹´é¾„åˆ†å¸ƒ**ï¼š18-28å²ï¼ˆ75%ï¼‰
- **æ€§åˆ«æ¯”ä¾‹**ï¼šå¥³æ€§95%ï¼Œç”·æ€§5%
- **æ¶ˆè´¹èƒ½åŠ›**ï¼šä¸­é«˜ç«¯ï¼ˆæœˆç¾å¦†æ¶ˆè´¹500-2000å…ƒï¼‰
- **å…´è¶£æ ‡ç­¾**ï¼šç¾å¦†ã€æŠ¤è‚¤ã€æ—¶å°šã€ç§è‰

### å˜ç°èƒ½åŠ›è¯„ä¼°
- **å¸¦è´§èƒ½åŠ›**ï¼šæå¼ºï¼ˆæœˆå‡GMV 200w+ï¼‰
- **å¹¿å‘Šåˆä½œ**ï¼šé¢‘ç¹ï¼Œä¸å¤šä¸ªå“ç‰Œé•¿æœŸåˆä½œ
- **å½±å“åŠ›**ï¼šè¡Œä¸šKOLï¼Œæ–°å“æµ‹è¯„å½±å“è´­ä¹°å†³ç­–

### å†…å®¹ç­–ç•¥å»ºè®®
1. ä¿æŒå®¢è§‚æ€§ï¼Œå»ºç«‹ä¿¡ä»»åº¦
2. å¢åŠ å¹³ä»·äº§å“æµ‹è¯„ï¼Œæ‰©å¤§å—ä¼—
3. å¼€è®¾ç›´æ’­å¸¦è´§ï¼Œæå‡è½¬åŒ–ç‡'''
        },
        {
            'id': '3',
            'name': 'åŒ–å¦†å¸ˆLily',
            'account_id': 'xhs99887766',
            'platform': 'xiaohongshu',
            'tier': 'mid',
            'category': 'skincare_education',
            'followers': '215.3w',
            'explosion_rate': 6.3,
            'last_update': '2024-03-17',
            'analysis_count': 28,
            'avatar': 'https://picsum.photos/id/66/200/200',
            'profile_url': 'https://www.xiaohongshu.com/user/profile/åŒ–å¦†å¸ˆLily',
            'tags': ['æ•™ç¨‹', 'æ–°æ‰‹', 'ç¾å¦†æ•™ç¨‹æ¦œTOP3'],
            'analysis_document': '''# è´¦å·æ·±åº¦åˆ†æï¼šåŒ–å¦†å¸ˆLilyï¼ˆå°çº¢ä¹¦ï¼‰

## ä¸€ã€è´¦å·åŸºç¡€ä¿¡æ¯

### è´¦å·æ¦‚å†µ
- **è´¦å·åç§°**ï¼šåŒ–å¦†å¸ˆLily
- **ç²‰ä¸æ•°é‡**ï¼š215.3w
- **å†…å®¹ç±»å‹**ï¼šåŒ–å¦†æ•™ç¨‹ã€æŠ€å·§åˆ†äº«
- **è´¦å·ç­‰çº§**ï¼šè…°éƒ¨KOL
- **èŒä¸šèƒŒæ™¯**ï¼šä¸“ä¸šåŒ–å¦†å¸ˆ

### äººè®¾å®šä½
åŒ–å¦†å¸ˆLilyå®šä½ä¸º"ä¸“ä¸šè€Œäº²å’Œçš„åŒ–å¦†å¯¼å¸ˆ"ï¼Œä»¥æ–°æ‰‹å‹å¥½çš„æ•™å­¦æ–¹å¼å’Œä¸“ä¸šçš„åŒ–å¦†æŠ€å·§è‘—ç§°ï¼Œæ˜¯åŒ–å¦†æ–°æ‰‹çš„é¦–é€‰å­¦ä¹ è´¦å·ã€‚

## äºŒã€å†…å®¹ç­–ç•¥åˆ†æ

### å†…å®¹çŸ©é˜µ
1. **åŸºç¡€æ•™ç¨‹**ï¼ˆ50%ï¼‰ï¼šé’ˆå¯¹æ–°æ‰‹çš„åŒ–å¦†åŸºç¡€æ•™å­¦
2. **è¿›é˜¶æŠ€å·§**ï¼ˆ30%ï¼‰ï¼šåŒ–å¦†æŠ€å·§æå‡å’Œç‰¹æ®Šåœºåˆå¦†å®¹
3. **äº§å“æ¨è**ï¼ˆ15%ï¼‰ï¼šé€‚åˆæ–°æ‰‹çš„å¹³ä»·å¥½ç‰©æ¨è
4. **ç­”ç–‘äº’åŠ¨**ï¼ˆ5%ï¼‰ï¼šç²‰ä¸é—®é¢˜è§£ç­”å’Œç›´æ’­

### æ•™å­¦ç‰¹è‰²
- **å¾ªåºæ¸è¿›**ï¼šä»æœ€åŸºç¡€çš„åŒ–å¦†æ­¥éª¤å¼€å§‹æ•™å­¦
- **æ–°æ‰‹å‹å¥½**ï¼šç”¨è¯­ç®€å•æ˜“æ‡‚ï¼Œé¿å…ä¸“ä¸šæœ¯è¯­
- **å®ç”¨æ€§å¼º**ï¼šæ³¨é‡æ—¥å¸¸å®ç”¨çš„å¦†å®¹æ•™å­¦
- **äº²å’ŒåŠ›å¼º**ï¼šè¯­è¨€æ¸©å’Œï¼Œé¼“åŠ±å¼æ•™å­¦

## ä¸‰ã€å†…å®¹åˆ†æç»“æœ

### çˆ†æ¬¾å†…å®¹ç‰¹å¾
1. **æ–°æ‰‹æ•™ç¨‹**ï¼šã€Š5åˆ†é’Ÿå­¦ä¼šæ—¥å¸¸å¦†ã€‹- 1.5wèµ
2. **æŠ€å·§åˆ†äº«**ï¼šã€ŠåŒ–å¦†å¸ˆçš„10ä¸ªå°ç§˜å¯†ã€‹- 1.2wèµ
3. **äº§å“æ¨è**ï¼šã€Šå­¦ç”Ÿå…šå¿…ä¹°çš„å¹³ä»·å¥½ç‰©ã€‹- 0.9wèµ

### ç”¨æˆ·ç”»åƒåˆ†æ
- **å¹´é¾„åˆ†å¸ƒ**ï¼š16-25å²ï¼ˆ80%ï¼‰
- **æ€§åˆ«æ¯”ä¾‹**ï¼šå¥³æ€§98%ï¼Œç”·æ€§2%
- **æ¶ˆè´¹èƒ½åŠ›**ï¼šä¸­ä½ç«¯ï¼ˆæœˆç¾å¦†æ¶ˆè´¹100-500å…ƒï¼‰
- **å…´è¶£æ ‡ç­¾**ï¼šåŒ–å¦†æ•™ç¨‹ã€å¹³ä»·å¥½ç‰©ã€å­¦ç”Ÿå…š

### å˜ç°èƒ½åŠ›è¯„ä¼°
- **æ•™å­¦æœåŠ¡**ï¼šçº¿ä¸ŠåŒ–å¦†è¯¾ç¨‹ï¼Œæœˆæ”¶å…¥ç¨³å®š
- **å¸¦è´§èƒ½åŠ›**ï¼šä¸­ç­‰ï¼Œä¸»æ¨å¹³ä»·äº§å“
- **å“ç‰Œåˆä½œ**ï¼šä¸å¹³ä»·å“ç‰Œåˆä½œè¾ƒå¤š

### å†…å®¹ç­–ç•¥å»ºè®®
1. åˆ¶ä½œç³»åˆ—åŒ–æ•™ç¨‹ï¼Œå»ºç«‹å­¦ä¹ ä½“ç³»
2. å¢åŠ è¿›é˜¶æ•™ç¨‹ï¼Œå»¶é•¿ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸ
3. å¼€å‘çº¿ä¸‹è¯¾ç¨‹ï¼Œæå‡å®¢å•ä»·'''
        }
    ]
    
    for competitor_data in competitors_data:
        competitor = Competitor(
            id=competitor_data['id'],
            name=competitor_data['name'],
            account_id=competitor_data['account_id'],
            platform=competitor_data['platform'],
            tier=competitor_data['tier'],
            category=competitor_data['category'],
            followers=competitor_data['followers'],
            explosion_rate=competitor_data['explosion_rate'],
            last_update=competitor_data['last_update'],
            analysis_count=competitor_data['analysis_count'],
            avatar=competitor_data['avatar'],
            profile_url=competitor_data['profile_url'],
            tags=competitor_data['tags'],
            analysis_document=competitor_data['analysis_document']
        )
        db.add(competitor)
    
    db.commit()
    print(f"å·²å¯¼å…¥ {len(competitors_data)} ä¸ªç«å“")

def import_competitor_notes(db: Session):
    """å¯¼å…¥ç«å“ç¬”è®°æ•°æ®"""
    print("æ­£åœ¨å¯¼å…¥ç«å“ç¬”è®°æ•°æ®...")
    
    competitor_notes_data = [
        # æ°´åŒ—å±±å—çš„ç¬”è®°
        {
            'id': '1',
            'competitor_id': '1',
            'note_id': 'note_001',
            'title': '2024å¹´ç»ˆå›é¡¾ï½œINFJé‡æ–°å‡ºå‘',
            'content_preview': '26å²ï¼Œåœ¨æˆ‘ä¸€ç”Ÿçš„é»„é‡‘æ—¶ä»£é‡Œï¼Œæˆ‘å­¦ä¼šäº†å’Œè‡ªå·±å’Œè§£ã€‚è¿™ä¸€å¹´åˆ†æ‰‹äº†ï¼Œå·¥ä½œå˜åŠ¨äº†ï¼Œæ¬å®¶äº†ï¼Œä½†æˆ‘å˜å¾—æ›´å¿«ä¹äº†...',
            'upload_time': '2024-03-15 19:30:00',
            'likes': 15623,
            'collects': 3241,
            'comments': 892,
            'shares': 156,
            'views': 89432,
            'engagement_rate': 17.5,
            'is_viral': True,
            'viral_score': 92,
            'content_type': 'å›¾æ–‡',
            'topics': ['INFJ', 'å¹´ç»ˆæ€»ç»“', 'æˆé•¿', 'è‡ªæˆ‘å’Œè§£'],
            'performance_rank': 1,
            'analysis': '''# çˆ†æ¬¾ç¬”è®°åˆ†æ

## æ ‡é¢˜ç­–ç•¥
- ä½¿ç”¨"2024å¹´ç»ˆå›é¡¾"æ—¶é—´é”šç‚¹ï¼Œè§¦å‘ç”¨æˆ·å›é¡¾æƒ…ç»ª
- "INFJé‡æ–°å‡ºå‘"äººæ ¼æ ‡ç­¾+æˆé•¿å…³é”®è¯ï¼Œç²¾å‡†å®šä½ç›®æ ‡å—ä¼—
- ç¬¦åˆå¹´æœ«æ€»ç»“æœŸç”¨æˆ·æœç´¢ä¹ æƒ¯

## å†…å®¹ç»“æ„
1. **æƒ…æ„Ÿé“ºå«**ï¼š26å²å¹´é¾„æ ‡ç­¾+é»„é‡‘æ—¶ä»£æ¦‚å¿µ
2. **å†²çªå±•ç¤º**ï¼šåˆ†æ‰‹ã€å·¥ä½œå˜åŠ¨ã€æ¬å®¶ç­‰äººç”Ÿå˜æ•…
3. **ä»·å€¼è¾“å‡º**ï¼šå’Œè§£ã€é‡æ–°å‡ºå‘çš„æ­£å‘æƒ…ç»ª
4. **å…±é¸£è§¦ç‚¹**ï¼šINFJäººæ ¼ç‰¹è´¨çš„æ·±åº¦å‰–æ

## çˆ†æ¬¾è¦ç´ 
- çœŸå®æ€§ï¼šåˆ†äº«çœŸå®äººç”Ÿç»å†ï¼Œé¿å…é¸¡æ±¤åŒ–
- å…±é¸£æ€§ï¼š26å²ç¾¤ä½“çš„æ™®éç„¦è™‘ä¸æˆé•¿
- è¯é¢˜æ€§ï¼šINFJæ ‡ç­¾å¸¦æ¥çš„æ ‡ç­¾åŒ–ä¼ æ’­
- æƒ…ç»ªä»·å€¼ï¼šæä¾›æƒ…æ„Ÿå‡ºå£å’Œè®¤åŒæ„Ÿ'''
        },
        {
            'id': '2',
            'competitor_id': '1',
            'note_id': 'note_002',
            'title': 'ä¸€ä¸ªäººä½ï¼Œè¶Šä½è¶Šå¿«ä¹çš„ç§˜å¯†',
            'content_preview': 'ç‹¬å±…ç¬¬äºŒå¹´ï¼Œæˆ‘ç»ˆäºæ‰¾åˆ°äº†ä¸€ä¸ªäººç”Ÿæ´»çš„èŠ‚å¥ã€‚ä»Šå¤©åˆ†äº«5ä¸ªè®©ç‹¬å±…ç”Ÿæ´»æ›´å¿«ä¹çš„å°ä¹ æƒ¯...',
            'upload_time': '2024-03-10 20:15:00',
            'likes': 12847,
            'collects': 2891,
            'comments': 674,
            'shares': 134,
            'views': 76543,
            'engagement_rate': 16.2,
            'is_viral': True,
            'viral_score': 88,
            'content_type': 'å›¾æ–‡',
            'topics': ['ç‹¬å±…', 'ç”Ÿæ´»æ–¹å¼', 'å¿«ä¹', 'ä¹ æƒ¯'],
            'performance_rank': 2,
            'analysis': '''# çˆ†æ¬¾ç¬”è®°åˆ†æ

## ç—›ç‚¹å‡»ä¸­
- ç‹¬å±…ç„¦è™‘ï¼šç¤¾ä¼šå¯¹ç‹¬å±…å¥³æ€§çš„åè§å’Œæ‹…å¿§
- ç”Ÿæ´»è´¨é‡ï¼šå¦‚ä½•åœ¨ç‹¬å±…ä¸­è·å¾—å¹¸ç¦æ„Ÿ
- å®ç”¨ä»·å€¼ï¼šå…·ä½“çš„ç”Ÿæ´»æŠ€å·§å’Œå»ºè®®

## å†…å®¹ä»·å€¼
1. æƒ…æ„Ÿå…±é¸£ï¼šç‹¬å±…å¥³æ€§çš„å¿ƒç†çŠ¶æ€
2. å®ç”¨æŠ€å·§ï¼šå…·ä½“å¯æ“ä½œçš„ç”Ÿæ´»å»ºè®®
3. æ­£å‘å¼•å¯¼ï¼šä»ç„¦è™‘åˆ°å¿«ä¹çš„è½¬å˜

## ä¼ æ’­äº®ç‚¹
- åå‘æ€ç»´ï¼šç‹¬å±…=å¿«ä¹ï¼Œæ‰“ç ´ä¼ ç»Ÿè§‚å¿µ
- ç»éªŒåˆ†äº«ï¼šç¬¬äºŒå¹´çš„æ—¶é—´ç§¯ç´¯æ„Ÿ
- å¹²è´§ä»·å€¼ï¼š5ä¸ªå…·ä½“ä¹ æƒ¯çš„å®ç”¨æ€§'''
        },
        {
            'id': '3',
            'competitor_id': '1',
            'note_id': 'note_003',
            'title': 'è€ƒä¸Šåæ ¡æ˜¯å°é•‡åšé¢˜å®¶çš„æ¢¦é†’æ—¶åˆ»',
            'content_preview': 'ä»å°é•‡åˆ°åŒ—äº¬ï¼Œä»åæ ¡åˆ°èŒåœºï¼Œæˆ‘ç»ˆäºæ˜ç™½ï¼šä¼˜ç§€ä¸æ˜¯äººç”Ÿçš„å…¨éƒ¨ï¼Œå¹³å‡¡ä¹Ÿæ˜¯ä¸€ç§å‹‡æ°”...',
            'upload_time': '2024-02-28 21:00:00',
            'likes': 9876,
            'collects': 2156,
            'comments': 543,
            'shares': 89,
            'views': 65432,
            'engagement_rate': 15.1,
            'is_viral': False,
            'viral_score': 75,
            'content_type': 'å›¾æ–‡',
            'topics': ['å°é•‡åšé¢˜å®¶', 'åæ ¡', 'äººç”Ÿæ„Ÿæ‚Ÿ', 'å¹³å‡¡'],
            'performance_rank': 3,
            'analysis': '''# æ·±åº¦å†…å®¹åˆ†æ

## è¯é¢˜çƒ­åº¦
- "å°é•‡åšé¢˜å®¶"ç¤¾ä¼šçƒ­è®®è¯é¢˜
- æ•™è‚²å…¬å¹³å’Œé˜¶å±‚è·ƒè¿è®¨è®º
- åæ ¡å…‰ç¯ä¸ç°å®è½å·®çš„åæ€

## æƒ…æ„Ÿå±‚æ¬¡
1. èº«ä»½è®¤åŒï¼šå°é•‡é’å¹´çš„æ ‡ç­¾åŒ–
2. å¿ƒç†å˜åŒ–ï¼šä»ä¼˜è¶Šæ„Ÿåˆ°å¹³å¸¸å¿ƒ
3. ä»·å€¼é‡å¡‘ï¼šé‡æ–°å®šä¹‰æˆåŠŸ

## å—ä¼—ä»·å€¼
- åŒç±»äººç¾¤çš„å¿ƒç†æ…°è—‰
- ç¤¾ä¼šè®®é¢˜çš„æ·±åº¦æ€è€ƒ
- æˆé•¿å¿ƒæ€çš„ç§¯æå¼•å¯¼'''
        },
        
        # ç¾å¦†æƒ…æŠ¥å±€çš„ç¬”è®°
        {
            'id': '4',
            'competitor_id': '2',
            'note_id': 'note_004',
            'title': '3æœˆæ–°å“çº¢é»‘æ¦œï½œè¿™äº›åˆ«ä¹°ï¼',
            'content_preview': 'æµ‹äº†æ•´æ•´ä¸€ä¸ªæœˆçš„æ–°å“ï¼Œç»ˆäºå¯ä»¥è·Ÿå¤§å®¶åˆ†äº«3æœˆçš„çº¢é»‘æ¦œäº†ï¼æœ‰äº›äº§å“çœŸçš„è®©æˆ‘å¤±æœ›...',
            'upload_time': '2024-03-18 18:00:00',
            'likes': 23456,
            'collects': 5678,
            'comments': 1234,
            'shares': 345,
            'views': 156789,
            'engagement_rate': 19.8,
            'is_viral': True,
            'viral_score': 95,
            'content_type': 'å›¾æ–‡',
            'topics': ['æ–°å“æµ‹è¯„', 'çº¢é»‘æ¦œ', 'é¿é›·', 'ç¾å¦†'],
            'performance_rank': 1,
            'analysis': '''# æµ‹è¯„ç±»çˆ†æ¬¾åˆ†æ

## æ ‡é¢˜ç­–ç•¥
- æ—¶æ•ˆæ€§ï¼š"3æœˆæ–°å“"æ˜ç¡®æ—¶é—´
- äº‰è®®æ€§ï¼š"çº¢é»‘æ¦œ"+"åˆ«ä¹°"å¼•å‘å¥½å¥‡
- æƒå¨æ€§ï¼šæš—ç¤ºä¸“ä¸šæµ‹è¯„ç»“æœ

## å†…å®¹ä»·å€¼
1. ä¸“ä¸šæµ‹è¯„ï¼šä¸€ä¸ªæœˆæ·±åº¦ä½“éªŒ
2. é¿é›·æŒ‡å—ï¼šå¸®åŠ©ç”¨æˆ·é¿å…è¸©å‘
3. è´­ä¹°å†³ç­–ï¼šæä¾›å…·ä½“é€‰æ‹©å»ºè®®

## äº’åŠ¨è®¾è®¡
- äº‰è®®è¯é¢˜å¼•å‘è®¨è®º
- è¯„è®ºåŒºç­”ç–‘æå‡ç²˜æ€§
- åˆ†äº«ä»·å€¼ä¿ƒè¿›ä¼ æ’­'''
        },
        {
            'id': '5',
            'competitor_id': '2',
            'note_id': 'note_005',
            'title': 'å¹³ä»·æ›¿ä»£åˆé›†ï½œå¤§ç‰Œå¹³æ›¿çœŸçš„å¥½ç”¨å—ï¼Ÿ',
            'content_preview': 'èŠ±äº†2000å—ä¹°äº†10ä¸ªå¤§ç‰Œå’Œå®ƒä»¬çš„å¹³ä»·æ›¿ä»£ï¼Œé€ä¸€å¯¹æ¯”å‘Šè¯‰ä½ å“ªäº›çœŸçš„å€¼å¾—ä¹°...',
            'upload_time': '2024-03-12 19:30:00',
            'likes': 18765,
            'collects': 4321,
            'comments': 987,
            'shares': 234,
            'views': 123456,
            'engagement_rate': 18.2,
            'is_viral': True,
            'viral_score': 89,
            'content_type': 'å›¾æ–‡',
            'topics': ['å¹³ä»·æ›¿ä»£', 'å¤§ç‰Œå¹³æ›¿', 'æ€§ä»·æ¯”', 'å¯¹æ¯”æµ‹è¯„'],
            'performance_rank': 2,
            'analysis': '''# å¯¹æ¯”æµ‹è¯„æˆåŠŸè¦ç´ 

## ç”¨æˆ·ç—›ç‚¹
- é¢„ç®—é™åˆ¶ï¼šæƒ³è¦å¤§ç‰Œæ•ˆæœä½†ä»·æ ¼æ•æ„Ÿ
- é€‰æ‹©å›°éš¾ï¼šå¹³æ›¿äº§å“ä¼—å¤šï¼Œéš¾ä»¥ç­›é€‰
- æ•ˆæœç–‘è™‘ï¼šå¹³æ›¿æ˜¯å¦çœŸçš„æœ‰æ•ˆ

## å†…å®¹ä¼˜åŠ¿
1. å®¢è§‚å¯¹æ¯”ï¼šå¤§ç‰Œvså¹³æ›¿ç›´è§‚å±•ç¤º
2. æŠ•å…¥æˆæœ¬ï¼š2000å…ƒæŠ•å…¥ä½“ç°ä¸“ä¸šåº¦
3. ç»“è®ºæ˜ç¡®ï¼šç»™å‡ºå…·ä½“è´­ä¹°å»ºè®®

## å•†ä¸šä»·å€¼
- å¸¦è´§èƒ½åŠ›å¼ºï¼šå¹³æ›¿äº§å“ä»·æ ¼äº²æ°‘
- å¤è´­ç‡é«˜ï¼šå»ºç«‹ç”¨æˆ·ä¿¡ä»»åº¦
- å“ç‰Œåˆä½œï¼šå¹³æ›¿å“ç‰Œåˆä½œæœºä¼š'''
        },
        
        # åŒ–å¦†å¸ˆLilyçš„ç¬”è®°  
        {
            'id': '6',
            'competitor_id': '3',
            'note_id': 'note_006',
            'title': 'æ–°æ‰‹å¿…çœ‹ï¼5åˆ†é’Ÿå­¦ä¼šæ—¥å¸¸å¦†å®¹',
            'content_preview': 'å¾ˆå¤šå§å¦¹è¯´åŒ–å¦†å¤ªéš¾ï¼Œä»Šå¤©æ•™å¤§å®¶ä¸€ä¸ªè¶…ç®€å•çš„æ—¥å¸¸å¦†å®¹ï¼Œæ–°æ‰‹5åˆ†é’Ÿå°±èƒ½å­¦ä¼š...',
            'upload_time': '2024-03-14 17:00:00',
            'likes': 15234,
            'collects': 3456,
            'comments': 789,
            'shares': 178,
            'views': 98765,
            'engagement_rate': 17.8,
            'is_viral': True,
            'viral_score': 85,
            'content_type': 'å›¾æ–‡+è§†é¢‘',
            'topics': ['æ–°æ‰‹æ•™ç¨‹', 'æ—¥å¸¸å¦†å®¹', 'åŒ–å¦†æ•™å­¦', 'ç®€å•'],
            'performance_rank': 1,
            'analysis': '''# æ•™ç¨‹ç±»å†…å®¹åˆ†æ

## ç›®æ ‡å—ä¼—
- åŒ–å¦†æ–°æ‰‹ï¼šæŠ€èƒ½é›¶åŸºç¡€ç”¨æˆ·
- æ—¶é—´ç´§å¼ ï¼šä¸Šç­æ—å¿«é€Ÿå¦†å®¹éœ€æ±‚
- é¢„ç®—æœ‰é™ï¼šä½¿ç”¨å¹³ä»·äº§å“æ•™å­¦

## æ•™å­¦ç‰¹è‰²
1. æ—¶é—´æ˜ç¡®ï¼š5åˆ†é’Ÿæ—¶é•¿é™ä½å­¦ä¹ é—¨æ§›
2. æ­¥éª¤ç®€åŒ–ï¼šåˆ ç¹å°±ç®€çªå‡ºé‡ç‚¹
3. æ–°æ‰‹å‹å¥½ï¼šé¿å…å¤æ‚æŠ€å·§å’Œäº§å“

## ä»·å€¼è¾“å‡º
- æŠ€èƒ½ä¼ æˆï¼šå…·ä½“æ“ä½œæ­¥éª¤
- ä¿¡å¿ƒå»ºç«‹ï¼šç®€å•æ˜“å­¦å¢å¼ºè‡ªä¿¡
- ä¹ æƒ¯å…»æˆï¼šæ—¥å¸¸å¦†å®¹è§„å¾‹åŒ–'''
        },
        {
            'id': '7',
            'competitor_id': '3',
            'note_id': 'note_007',
            'title': 'åŒ–å¦†å¸ˆç§è—æŠ€å·§ï½œè¿™æ ·ç”»çœ‰æ¯›ä¸ä¼šé”™',
            'content_preview': 'åšäº†5å¹´åŒ–å¦†å¸ˆï¼Œä»Šå¤©åˆ†äº«æˆ‘çš„ç”»çœ‰ç§˜ç±ï¼ŒæŒæ¡è¿™3ä¸ªè¦ç‚¹ï¼Œæ–°æ‰‹ä¹Ÿèƒ½ç”»å‡ºå®Œç¾çœ‰å½¢...',
            'upload_time': '2024-03-08 16:30:00',
            'likes': 12678,
            'collects': 2890,
            'comments': 567,
            'shares': 145,
            'views': 87654,
            'engagement_rate': 16.5,
            'is_viral': False,
            'viral_score': 78,
            'content_type': 'å›¾æ–‡',
            'topics': ['çœ‰æ¯›', 'åŒ–å¦†æŠ€å·§', 'åŒ–å¦†å¸ˆ', 'æ•™ç¨‹'],
            'performance_rank': 2,
            'analysis': '''# ä¸“ä¸šæŠ€å·§åˆ†äº«åˆ†æ

## æƒå¨æ€§å»ºç«‹
- èŒä¸šèƒŒæ™¯ï¼š5å¹´åŒ–å¦†å¸ˆç»éªŒ
- ä¸“ä¸šæŠ€å·§ï¼šç§è—ç§˜ç±çš„ç‹¬ç‰¹æ€§
- æˆæœæ‰¿è¯ºï¼šå®Œç¾çœ‰å½¢çš„æ•ˆæœä¿è¯

## å†…å®¹ç»“æ„
1. é—®é¢˜è¯†åˆ«ï¼šæ–°æ‰‹ç”»çœ‰éš¾ç‚¹
2. æ–¹æ³•ä¼ æˆï¼š3ä¸ªå…³é”®è¦ç‚¹
3. æ•ˆæœå±•ç¤ºï¼šå®Œç¾çœ‰å½¢æ¡ˆä¾‹

## å­¦ä¹ ä»·å€¼
- ä¸“ä¸šåº¦ï¼šåŒ–å¦†å¸ˆçº§åˆ«çš„æŠ€å·§
- å®ç”¨æ€§ï¼šæ—¥å¸¸å¯æ“ä½œçš„æ–¹æ³•
- æ™®é€‚æ€§ï¼šé€‚åˆä¸åŒè„¸å‹çœ‰å½¢'''
        },
        {
            'id': '8',
            'competitor_id': '3',
            'note_id': 'note_008',
            'title': 'å­¦ç”Ÿå…šç¦åˆ©ï½œ20å…ƒæå®šå…¨å¥—åº•å¦†',
            'content_preview': 'é¢„ç®—æœ‰é™çš„å­¦ç”Ÿå…šçœ‹è¿‡æ¥ï¼ä»Šå¤©ç”¨ä¸åˆ°20å…ƒçš„äº§å“ï¼Œæ•™å¤§å®¶æ‰“é€ å®Œæ•´åº•å¦†ï¼Œæ•ˆæœä¸è¾“å¤§ç‰Œ...',
            'upload_time': '2024-03-05 19:00:00',
            'likes': 11234,
            'collects': 2567,
            'comments': 456,
            'shares': 123,
            'views': 76543,
            'engagement_rate': 15.9,
            'is_viral': False,
            'viral_score': 72,
            'content_type': 'å›¾æ–‡',
            'topics': ['å­¦ç”Ÿå…š', 'å¹³ä»·', 'åº•å¦†', 'é¢„ç®—'],
            'performance_rank': 3,
            'analysis': '''# å¹³ä»·æ•™ç¨‹å†…å®¹åˆ†æ

## å—ä¼—å®šä½
- å­¦ç”Ÿç¾¤ä½“ï¼šé¢„ç®—é™åˆ¶æ˜æ˜¾
- æ–°æ‰‹ç”¨æˆ·ï¼šå¯¹äº§å“é€‰æ‹©å›°éš¾
- æ€§ä»·æ¯”è¿½æ±‚è€…ï¼šæ•ˆæœä¸ä»·æ ¼å¹³è¡¡

## å†…å®¹å–ç‚¹
1. ä»·æ ¼ä¼˜åŠ¿ï¼š20å…ƒè¶…ä½é¢„ç®—
2. æ•ˆæœä¿è¯ï¼šä¸è¾“å¤§ç‰Œçš„æ‰¿è¯º
3. æ•™å­¦å®Œæ•´ï¼šå…¨å¥—åº•å¦†æµç¨‹

## ç¤¾ä¼šä»·å€¼
- é™ä½ç¾å¦†é—¨æ§›ï¼šè®©æ›´å¤šäººäº«å—ç¾å¦†ä¹è¶£
- ç†æ€§æ¶ˆè´¹ï¼šå€¡å¯¼æ ¹æ®é¢„ç®—åˆç†é€‰æ‹©
- æŠ€å·§åˆ†äº«ï¼šä¸“ä¸šçŸ¥è¯†çš„æ™®åŠ'''
        }
    ]
    
    for note_data in competitor_notes_data:
        note = CompetitorNote(**note_data)
        db.add(note)
    
    db.commit()
    print(f"å·²å¯¼å…¥ {len(competitor_notes_data)} æ¡ç«å“ç¬”è®°")

def import_tasks(db: Session):
    """å¯¼å…¥ä»»åŠ¡æ•°æ®"""
    print("æ­£åœ¨å¯¼å…¥ä»»åŠ¡æ•°æ®...")
    
    tasks_data = [
        {
            'id': '1',
            'title': 'åˆ›å»ºæ²¹çš®æŠ¤è‚¤æµ‹è¯„å†…å®¹',
            'description': 'é’ˆå¯¹æ²¹çš®äººç¾¤åˆ›å»º5æ¬¾å¹³ä»·æ§æ²¹äº§å“çš„æµ‹è¯„å†…å®¹',
            'deadline': datetime(2024, 3, 20),
            'status': 'inProgress',
            'priority': 'high',
            'type': 'content',
            'assignee': 'å¼ è¿è¥',
            'progress': 60,
            'account_id': '1'
        },
        {
            'id': '2',
            'title': 'ç«å“è´¦å·æ•°æ®åˆ†æ',
            'description': 'åˆ†æ3ä¸ªå¤´éƒ¨ç¾å¦†è´¦å·çš„å†…å®¹æ•°æ®å’Œè¿è¥ç­–ç•¥',
            'deadline': datetime(2024, 3, 22),
            'status': 'pending',
            'priority': 'medium',
            'type': 'analysis',
            'assignee': 'æåˆ†æ',
            'progress': 0
        },
        {
            'id': '3',
            'title': 'åˆ¶å®š6æœˆå†…å®¹å‘å¸ƒè®¡åˆ’',
            'description': 'æ ¹æ®æ•°æ®åˆ†æç»“æœï¼Œåˆ¶å®š6æœˆçš„å†…å®¹å‘å¸ƒè®¡åˆ’å’Œé¢‘ç‡',
            'deadline': datetime(2024, 3, 25),
            'status': 'pending',
            'priority': 'low',
            'type': 'schedule',
            'assignee': 'ç‹ç­–åˆ’',
            'progress': 0
        },
        {
            'id': '4',
            'title': 'ç²‰ä¸äº’åŠ¨æ´»åŠ¨ç­–åˆ’',
            'description': 'ç­–åˆ’ä¸€æ¬¡ç²‰ä¸å‚ä¸åº¦é«˜çš„äº’åŠ¨æ´»åŠ¨ï¼Œæé«˜è´¦å·æ´»è·ƒåº¦',
            'deadline': datetime(2024, 3, 18),
            'status': 'overdue',
            'priority': 'high',
            'type': 'operation',
            'assignee': 'å¼ è¿è¥',
            'progress': 80,
            'account_id': '1'
        },
        {
            'id': '5',
            'title': 'æ•°æ®å‘¨æŠ¥æ•´ç†',
            'description': 'æ•´ç†è¿‡å»ä¸€å‘¨çš„è´¦å·æ•°æ®è¡¨ç°ï¼Œç”Ÿæˆå‘¨æŠ¥',
            'deadline': datetime(2024, 3, 15),
            'status': 'completed',
            'priority': 'medium',
            'type': 'analysis',
            'assignee': 'æåˆ†æ',
            'progress': 100
        },
        {
            'id': '6',
            'title': 'å°çº¢ä¹¦è´¦å·å†·å¯åŠ¨æœŸæ‰§è¡Œ',
            'description': 'æ‰§è¡Œå°çº¢ä¹¦è´¦å·å†·å¯åŠ¨æœŸè¿è¥SOPï¼ŒåŒ…æ‹¬è´¦å·è£…ä¿®ã€å†…å®¹å‚¨å¤‡ç­‰',
            'deadline': datetime(2024, 4, 15),
            'status': 'inProgress',
            'priority': 'high',
            'type': 'operation',
            'assignee': 'è¿è¥å›¢é˜Ÿ',
            'progress': 30,
            'account_id': '1',
            'sop_data': {
                'phase': 'cold-start',
                'week': 1,
                'tasks': [
                    {
                        'name': 'è´¦å·è£…ä¿®',
                        'completed': True,
                        'completion_date': '2024-03-16'
                    },
                    {
                        'name': 'å†…å®¹å‚¨å¤‡',
                        'completed': True,
                        'completion_date': '2024-03-18'
                    },
                    {
                        'name': 'è´¦å·è®¤è¯',
                        'completed': False,
                        'target_date': '2024-03-25'
                    }
                ]
            }
        },
        {
            'id': '7',
            'title': 'ç«å“çˆ†æ¬¾å†…å®¹åˆ†æ',
            'description': 'åˆ†æç¾å¦†æƒ…æŠ¥å±€æœ€æ–°çˆ†æ¬¾å†…å®¹çš„æˆåŠŸè¦ç´ å’Œå¯å¤åˆ¶ç­–ç•¥',
            'deadline': datetime(2024, 3, 30),
            'status': 'pending',
            'priority': 'medium',
            'type': 'analysis',
            'assignee': 'å†…å®¹ç­–åˆ’',
            'progress': 0,
            'related_competitor': 'ç¾å¦†æƒ…æŠ¥å±€',
            'analysis_focus': ['æ ‡é¢˜ç­–ç•¥', 'å°é¢è®¾è®¡', 'å†…å®¹ç»“æ„', 'äº’åŠ¨å¼•å¯¼']
        },
        {
            'id': '8',
            'title': 'çŸ¥è¯†åº“æ–‡æ¡£æ•´ç†',
            'description': 'æ•´ç†åŒ–å¦†å¸ˆæ•™å­¦æŠ€å·§çš„çŸ¥è¯†åº“æ–‡æ¡£ï¼Œå½¢æˆå¯å¤ç”¨çš„æ•™ç¨‹æ¨¡æ¿',
            'deadline': datetime(2024, 4, 5),
            'status': 'inProgress',
            'priority': 'low',
            'type': 'content',
            'assignee': 'å†…å®¹å›¢é˜Ÿ',
            'progress': 25,
            'knowledge_type': 'tutorial_template',
            'categories': ['æ–°æ‰‹æ•™ç¨‹', 'è¿›é˜¶æŠ€å·§', 'äº§å“æ¨è', 'ç­”ç–‘æ¨¡æ¿']
        }
    ]
    
    for task_data in tasks_data:
        # æå–åŸºç¡€å­—æ®µ
        basic_fields = {
            'id': task_data['id'],
            'title': task_data['title'],
            'description': task_data['description'],
            'deadline': task_data['deadline'],
            'status': task_data['status'],
            'priority': task_data['priority'],
            'type': task_data['type'],
            'assignee': task_data['assignee'],
            'progress': task_data['progress'],
            'account_id': task_data.get('account_id')
        }
        
        # æ·»åŠ é¢å¤–æ•°æ®åˆ°æè¿°ä¸­
        extra_info = {}
        if 'sop_data' in task_data:
            extra_info['sop_data'] = task_data['sop_data']
        if 'related_competitor' in task_data:
            extra_info['related_competitor'] = task_data['related_competitor']
        if 'analysis_focus' in task_data:
            extra_info['analysis_focus'] = task_data['analysis_focus']
        if 'knowledge_type' in task_data:
            extra_info['knowledge_type'] = task_data['knowledge_type']
        if 'categories' in task_data:
            extra_info['categories'] = task_data['categories']
            
        if extra_info:
            basic_fields['description'] += f"\n\né¢å¤–ä¿¡æ¯ï¼š{json.dumps(extra_info, ensure_ascii=False, indent=2)}"
        
        task = Task(**basic_fields)
        db.add(task)
    
    db.commit()
    print(f"å·²å¯¼å…¥ {len(tasks_data)} ä¸ªä»»åŠ¡")

def import_schedules(db: Session):
    """å¯¼å…¥å‘å¸ƒè®¡åˆ’æ•°æ®"""
    print("æ­£åœ¨å¯¼å…¥å‘å¸ƒè®¡åˆ’æ•°æ®...")
    
    schedules_data = [
        {
            'id': str(uuid.uuid4())[:8],
            'title': 'æŠ¤è‚¤å°ç™½æ•™ç¨‹å‘å¸ƒ',
            'description': 'æŠ¤è‚¤æ­¥éª¤æ•™ç¨‹çš„å®šæ—¶å‘å¸ƒ',
            'type': 'single',
            'status': 'pending',
            'account_id': '1',
            'content_id': '4',
            'platform': 'xiaohongshu',
            'publish_datetime': datetime(2024, 3, 20, 19, 0),
            'note': 'é»„é‡‘æ—¶é—´å‘å¸ƒï¼Œé¢„æœŸæ•ˆæœè¾ƒå¥½'
        },
        {
            'id': str(uuid.uuid4())[:8],
            'title': 'è½»å¥¢ç¾å¦†å¥½ç‰©æ¨è',
            'description': 'è½»å¥¢ç¾å¦†äº§å“çš„æ¨èå†…å®¹å‘å¸ƒ',
            'type': 'single',
            'status': 'pending',
            'account_id': '2',
            'content_id': '6',
            'platform': 'xiaohongshu',
            'publish_datetime': datetime(2024, 3, 22, 18, 30),
            'note': 'èŒåœºä¸‹ç­æ—¶é—´å‘å¸ƒ'
        }
    ]
    
    for schedule_data in schedules_data:
        schedule = Schedule(
            id=schedule_data['id'],
            title=schedule_data['title'],
            description=schedule_data['description'],
            type=schedule_data['type'],
            status=schedule_data['status'],
            account_id=schedule_data['account_id'],
            content_id=schedule_data['content_id'],
            platform=schedule_data['platform'],
            publish_datetime=schedule_data['publish_datetime'],
            note=schedule_data['note']
        )
        db.add(schedule)
    
    db.commit()
    print(f"å·²å¯¼å…¥ {len(schedules_data)} ä¸ªå‘å¸ƒè®¡åˆ’")

def import_chat_messages(db: Session):
    """å¯¼å…¥èŠå¤©æ¶ˆæ¯æ•°æ®"""
    print("æ­£åœ¨å¯¼å…¥èŠå¤©æ¶ˆæ¯æ•°æ®...")
    
    messages_data = [
        {
            'id': str(uuid.uuid4())[:8],
            'content': 'ğŸ‘‹ ä½ å¥½ï¼æˆ‘æ˜¯SocialPulse AIï¼Œä½ çš„æ™ºèƒ½ç¤¾äº¤åª’ä½“è¿è¥åŠ©æ‰‹ã€‚æˆ‘å¯ä»¥å¸®ä½ åˆ†æè´¦å·å®šä½ã€æ‹†è§£ç«å“ã€ç”Ÿæˆå†…å®¹ï¼Œè¿˜èƒ½ç®¡ç†å¤šå¹³å°è´¦å·ã€‚',
            'sender': 'ai',
            'timestamp': datetime.utcnow().strftime('%Y-%m-%d %H:%M:%S'),
            'status': 'received',
            'user_id': 'test_user',
            'session_id': 'default_session'
        }
    ]
    
    for msg_data in messages_data:
        message = ChatMessage(
            id=msg_data['id'],
            content=msg_data['content'],
            sender=msg_data['sender'],
            timestamp=msg_data['timestamp'],
            status=msg_data['status'],
            user_id=msg_data['user_id'],
            session_id=msg_data['session_id']
        )
        db.add(message)
    
    db.commit()
    print(f"å·²å¯¼å…¥ {len(messages_data)} æ¡èŠå¤©æ¶ˆæ¯")

def main():
    """ä¸»å‡½æ•°"""
    print("å¼€å§‹å¯¼å…¥mockæ•°æ®åˆ°æ•°æ®åº“...")
    
    # è·å–æ•°æ®åº“è¿æ¥
    db = next(get_db())
    
    try:
        # æ¸…ç©ºç°æœ‰æ•°æ®
        clean_database(db)
        
        # å¯¼å…¥å„ç§æ•°æ®
        import_accounts(db)
        import_contents(db)
        import_competitors(db)
        import_competitor_notes(db)
        import_tasks(db)
        import_schedules(db)
        import_chat_messages(db)
        
        print("\nğŸ‰ æ‰€æœ‰mockæ•°æ®å¯¼å…¥æˆåŠŸï¼")
        print("å¯ä»¥é€šè¿‡APIæµ‹è¯•é¡µé¢éªŒè¯æ•°æ®æ˜¯å¦æ­£ç¡®å¯¼å…¥ã€‚")
        
    except Exception as e:
        print(f"âŒ å¯¼å…¥å¤±è´¥: {e}")
        db.rollback()
    finally:
        db.close()

if __name__ == "__main__":
    main() 